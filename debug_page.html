<!DOCTYPE html>
<html>
  <head>
    <script src="deps/jquery-3.2.1.min.js"></script>
    <script src="deps/jquery.terminal.min.js"></script>
<link href="deps/jquery.terminal.min.css" rel="stylesheet"/>
  </head>
  <body>

    
    <textarea id="textbox" style="height: 500px; width: 800px; overflow-y: scroll;"></textarea>
    <button onclick="clickEvent()" style="width: fit-content; height: fit-content;">Compile script</button>
    <button onclick="resetEvent()" style="width: fit-content; height: fit-content;">Reset</button>
    <div id="terminal" style="overflow-y: scroll;height: 500px; "></div>
    
    <script>
        var XSB_PROPERTIES = 
        {
          STARTUP_MESSAGE: "Written by Scott Burgert and Paul Fodor",
          TERMINAL_ELEMENT_ID: "terminal"
        }
    </script>

    <script id="xsbInterface" src="xsbInterface.js"></script>   
    <script src="xsbTerminalLib.js"></script>

    <script>

        function clickEvent()
        {
            xsbTerm.writeFile("script.P", $("#textbox").val())
            xsbTerm.executeXSBCommand("consult('script').")
        }

        function resetEvent()
        {
            term.echo("Resetting XSB")
            xsbTerm.stopXSB(); 
            setTimeout(() => {
               xsbTerm.startXSB(); // Wait 2 seconds and then restart XSB to prevent weird crashes
               term.exec("clear"); // Clear text from the terminal (Run the "clear" command)
            }, 5000);
            
        }
    </script>


    
  </body>
    
</html>